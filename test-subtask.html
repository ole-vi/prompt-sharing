<!DOCTYPE html>
<html>
<head>
  <title>Test Subtask Manager</title>
  <script type="module">
    import { analyzePromptStructure, extractTaskStubs, breakIntoParagraphs } from './src/modules/subtask-manager.js';
    
    const testText = `
Main-thread Realm query in AdapterNotification#formatNotificationMessage
Synchronous Realm queries block the main thread.

:::task-stub{title="Move Realm queries out of onBindViewHolder"}
Prefetch all referenced data.
Replace formatNotificationMessage.
:::

Main-thread Realm query in AdapterNews#onBindViewHolder
Multiple synchronous Realm queries execute inside onBindViewHolder.

:::task-stub{title="Prefetch and cache news dependencies"}
Create a NewsViewModel data class.
Replace configureUser, getReplies, isTeamLeader queries.
:::
    `;
    
    window.testResults = {
      stubs: extractTaskStubs(testText),
      analysis: analyzePromptStructure(testText)
    };
    
    console.log('Test Results:', window.testResults);
  </script>
</head>
<body>
  <h1>Subtask Manager Test</h1>
  <p>Check console for results</p>
</body>
</html>
