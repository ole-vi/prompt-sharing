<header>
  <style>
    .user-menu { position: relative; }
    .user-menu-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      font-size: 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(20,24,41,0.6), rgba(20,24,41,0.3));
      color: var(--text);
      cursor: pointer;
    }
    .user-menu-button:hover { filter: brightness(1.05); }
    .user-menu-caret { opacity: 0.7; }
    .user-dropdown {
      position: absolute;
      right: 0;
      top: calc(100% + 6px);
      min-width: 180px;
      background: linear-gradient(135deg, rgba(20,24,41,1), rgba(20,24,41,1));
      border: 1px solid var(--border);
      border-radius: 12px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.35);
      padding: 6px;
      display: none;
      z-index: 10;
      backdrop-filter: none;
    }
    .user-dropdown a,
    .user-dropdown button {
      width: 100%;
      text-align: left;
      padding: 10px 10px;
      border-radius: 8px;
      background: transparent;
      border: none;
      color: var(--text);
      font: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 13px;
    }
    .user-dropdown a:hover,
    .user-dropdown button:hover { 
      background: rgba(77, 217, 255, 0.08);
      color: var(--accent);
    }
    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .user-dropdown-sep { height: 1px; background: var(--border); margin: 6px 0; }
    @media (max-width: 900px) {
      #headerContainer {
        flex-direction: column !important;
        gap: 12px !important;
        align-items: stretch !important;
        padding: 12px 16px !important;
      }
      #headerBranding a {
        justify-content: center;
      }
      #headerNav {
        justify-content: center !important;
        flex-wrap: wrap;
        gap: 4px !important;
      }
      .nav-item {
        padding: 8px 12px !important;
        font-size: 12px !important;
      }
      #headerControls {
        flex-direction: column !important;
        gap: 6px !important;
      }
    }
  </style>
  <div id="headerContainer" style="display:flex; justify-content:space-between; align-items:center; gap:20px; padding:12px 20px; width:100%;">
    <!-- Left: Logo & Tagline -->
    <div style="display:flex; align-items:center; gap:12px; flex-shrink:0;">
      <div id="headerBranding">
        <a id="logoLink" href="/" style="text-decoration:none; color:inherit; display:flex; align-items:center; gap:10px;">
          <img src="assets/PromptSyncLogo.svg" alt="PromptSync" style="width:32px; height:32px; flex-shrink:0; object-fit:contain;">
          <div>
            <div style="font-size:20px; font-weight:900; letter-spacing:0.5px; line-height:1.2;">PromptSync</div>
            <div style="color:var(--muted); font-size:11px; margin-top:1px;">Share and amplify your team's AI knowledge.</div>
          </div>
        </a>
      </div>
    </div>

    <!-- Center: Navigation -->
    <nav id="headerNav" style="display:flex; gap:0; align-items:center; flex-grow:1; justify-content:center;">
      <a href="index.html" class="nav-item" data-page="home">
        <span class="nav-icon">üè†</span>
        <span class="nav-label">Home</span>
      </a>
      <a href="queue.html" class="nav-item" data-page="queue">
        <span class="nav-icon">üìã</span>
        <span class="nav-label">Queue</span>
      </a>
      <a href="jules.html" class="nav-item" data-page="jules">
        <span class="nav-icon">ü§ñ</span>
        <span class="nav-label">Jules</span>
      </a>
      <a href="webcapture.html" class="nav-item" data-page="webcapture">
        <span class="nav-icon">üì∏</span>
        <span class="nav-label">Web Capture</span>
      </a>
    </nav>

    <!-- Right: Controls & Auth -->
    <div style="display:flex; align-items:center; gap:12px; flex-shrink:0;">
      <div id="headerControls" style="display:flex; gap:6px; align-items:center;">
        <select id="branchSelect" style="max-width:120px;">
          <option>Loading‚Ä¶</option>
        </select>
      </div>

      <div id="authStatus" style="display:flex; align-items:center; gap:6px; font-size:13px;">
        <div id="userMenu" class="user-menu">
          <button id="userMenuButton" class="user-menu-button" aria-haspopup="true" aria-expanded="false">
            <span id="userDisplay" style="display:inline-flex; align-items:center; gap:6px;">
              <img id="userAvatar" src="" alt="" style="width:18px; height:18px; border-radius:50%; display:none;">
              <strong id="userName">Guest</strong>
            </span>
            <span class="user-menu-caret">‚ñæ</span>
          </button>
          <div id="userMenuDropdown" class="user-dropdown" role="menu" aria-labelledby="userMenuButton">
            <button id="headerSignIn" class="dropdown-item" role="menuitem" style="justify-content: center;">üîë Sign In with GitHub</button>
            <button id="headerSignOut" class="dropdown-item" role="menuitem" style="display:none; justify-content: center;">üö™ Sign Out</button>
          </div>
        </div>
        <a href="https://github.com/ole-vi/prompt-sharing/blob/main/README.md" target="_blank" rel="noopener" class="help-link" title="View documentation" style="padding:6px 10px; font-size:12px;">üìñ Help</a>
      </div>
    </div>
  </div>
</header>
